(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{118:function(e,t,n){e.exports={content:"News_content__J1Xhq"}},119:function(e,t,n){e.exports={content:"Music_content__-zHZb"}},12:function(e,t,n){e.exports={wrapper:"Dialogs_wrapper__pmA8j",header:"Dialogs_header__oFmnS",dialogsTitle:"Dialogs_dialogsTitle__1MK_I",messagesTitle:"Dialogs_messagesTitle__1SeGX",activeC:"Dialogs_activeC__39_qr",dialogs:"Dialogs_dialogs__2W5_2",dialog:"Dialogs_dialog__1m1vV",messages:"Dialogs_messages__1z_6b",messageWrapper:"Dialogs_messageWrapper__25foe",right:"Dialogs_right__8FFx8",message:"Dialogs_message__3upM8",messagesWrapper:"Dialogs_messagesWrapper__2WykB"}},121:function(e,t,n){e.exports={PersonalInfoBlock:"Contact_PersonalInfoBlock__2EzkC"}},122:function(e,t,n){e.exports={foolName:"FullName_foolName__3I-jI"}},123:function(e,t,n){e.exports={aboutMe:"AboutMe_aboutMe__K812L"}},124:function(e,t,n){e.exports={lookingForAJobDescription:"LoockingForAJob_lookingForAJobDescription__121sz"}},125:function(e,t,n){e.exports={content:"Profile_content__zlHUh"}},126:function(e,t,n){e.exports={wrapper:"Posts_wrapper__v1EM9"}},127:function(e,t,n){e.exports={container:"Login_container__1FnXe"}},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},14:function(e,t,n){e.exports={nav:"Navbar_nav__2bYRs",activeC:"Navbar_activeC__1jKxL",item:"Navbar_item__3EZGC"}},23:function(e,t,n){e.exports={container:"User_container__6Yq4T",avatarImage:"User_avatarImage__3SppT",fallowButton:"User_fallowButton__1x-OV",leftSide:"User_leftSide__3cga9",name:"User_name__2avyD",follow:"User_follow__f78xM",rightSide:"User_rightSide__3NZuD",status:"User_status__1QR6Y",country:"User_country__12tjC",city:"User_city__17088"}},258:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),r=n(56),c=n.n(r),i=(n(135),n(136),n(137),n(14)),o=n.n(i),u=n(10),l=function(){return Object(s.jsxs)("nav",{className:o.a.nav,children:[Object(s.jsx)("div",{className:o.a.item,children:Object(s.jsx)(u.b,{activeClassName:o.a.activeC,to:"/profile",children:"Profile"})}),Object(s.jsx)("div",{className:o.a.item,children:Object(s.jsx)(u.b,{activeClassName:o.a.activeC,to:"/dialogs",children:"Messages"})}),Object(s.jsx)("div",{className:o.a.item,children:Object(s.jsx)(u.b,{activeClassName:o.a.activeC,to:"/news",children:"News"})}),Object(s.jsx)("div",{className:o.a.item,children:Object(s.jsx)(u.b,{activeClassName:o.a.activeC,to:"/music",children:"Music"})}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:o.a.item,children:Object(s.jsx)(u.b,{activeClassName:o.a.activeC,to:"/find-users",children:"Find Users"})}),Object(s.jsx)("div",{className:o.a.item,children:Object(s.jsx)(u.b,{activeClassName:o.a.activeC,to:"/settings",children:"Settings"})})]})},j=n(6),d=n(12),b=n.n(d),f=function(e){return e.sender?Object(s.jsx)("div",{className:b.a.messageWrapper,children:Object(s.jsx)("div",{className:b.a.message,children:Object(s.jsx)("h1",{children:e.message})})}):Object(s.jsx)("div",{className:b.a.messageWrapper+" "+b.a.right,children:Object(s.jsx)("div",{className:b.a.message,children:Object(s.jsx)("h1",{children:e.message})})})},p=function(e){return Object(s.jsx)(u.b,{activeClassName:b.a.activeC,className:b.a.dialog,to:e.path,children:Object(s.jsx)("h2",{children:e.name})})},m=n(82),O=n.n(m),h=n(260),g=n(259),x=Object(g.a)({form:"newMessage"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(h.a,{name:"message",component:"textarea"})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Submit"})})]})})),_=function(e){return Object(s.jsx)("div",{className:O.a.wrapper,children:Object(s.jsx)("div",{className:O.a.container,children:Object(s.jsx)(x,{onSubmit:function(t){e.addMessage(t)}})})})},v=n(35),N=n(3),w="Dialog-reducer/ADD-MESSAGE",S={contactItemData:[{id:1,name:"Nic"},{id:2,name:"Jon"},{id:3,name:"Alibaba"},{id:4,name:"Artur"},{id:5,name:"Josef"}],messageItemData:[{id:1,message:"message 1",imSender:!1},{id:2,message:"message 2",imSender:!0},{id:3,message:"message 3",imSender:!1},{id:4,message:"message 4",imSender:!0},{id:5,message:"message 5",imSender:!0}]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(N.a)(Object(N.a)({},e),{},{messageItemData:[].concat(Object(v.a)(e.messageItemData),[{id:e.messageItemData.length,message:t.message,imSender:!0}])});default:return e}},C=Object(j.b)((function(e){return{newMessageText:e.dialogsPage.newMessageText}}),{addMessage:function(e){return{type:w,message:e}}})(_),k=n(7),I=function(e){var t=e.contactItemData.map((function(e){return Object(s.jsx)(p,{path:"/dialogs/"+e.id,name:e.name},e.id)})),n=e.messageItemData.map((function(e){return Object(s.jsx)(f,{message:e.message,sender:e.imSender},e.id)}));return e.isAuth?Object(s.jsxs)("div",{className:b.a.wrapper,children:[Object(s.jsxs)("div",{className:b.a.header,children:[Object(s.jsx)("div",{className:b.a.dialogsTitle,children:Object(s.jsx)("h1",{children:"Dialogs"})}),Object(s.jsx)("div",{className:b.a.messagesTitle,children:Object(s.jsx)("h1",{children:"Messages"})})]}),Object(s.jsx)("div",{className:b.a.dialogs,children:t}),Object(s.jsxs)("div",{className:b.a.messagesWrapper,children:[Object(s.jsx)("div",{className:b.a.messages,children:n}),Object(s.jsx)(C,{})]})]}):Object(s.jsx)(k.a,{to:"/login"})},A=Object(j.b)((function(e){return{contactItemData:e.dialogsPage.contactItemData,messageItemData:e.dialogsPage.messageItemData,isAuth:e.userAuth.isAuth}}))(I),U=n(118),D=n.n(U),F=function(){return Object(s.jsx)("div",{className:D.a.content,children:"News"})},y=n(119),T=n.n(y),M=function(){return Object(s.jsx)("div",{className:T.a.content,children:"Music"})},E=n(36),B=j.d,L=n(9),R=n.n(L),W=n(22),G=n(120),J=n.n(G).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a7e95eef-6fca-4ad6-b80e-e336c169fca5"}}),z=function(e){return J.post("follow/"+e,{})},K=function(e){return J.delete("follow/"+e)},H=function(e,t){return J.get("users?page=".concat(e,"&count=").concat(t))},X=function(){return J.get("auth/me").then((function(e){return e.data}))},V=function(e){return J.get("profile/"+e).then((function(e){return e.data}))},Y=function(e){return J.get("profile/status/"+e).then((function(e){return e.data}))},Z=function(e){return J.put("profile/status",{status:e})},q=function(e){return J.put("profile",e)},Q=function(e){return J.put("profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}})},$="Profile-reducer/ADD-POST",ee="Profile-reducer/SET_USER_PROFILE",te="Profile-reducer/SET_USER_STATUS",ne={postsData:[{id:1,text:"May the force be with you",likesCount:11}],profile:null,userStatus:""},se=function(e){return{type:$,text:e}},ae=function(e){return{type:ee,profile:e}},re=function(e){return{type:te,status:e}},ce=function(e){return function(){var t=Object(W.a)(R.a.mark((function t(n){var s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V(e);case 3:s=t.sent,n(ae(s)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(W.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(e);case 3:0===t.sent.data.resultCode&&n(re(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(N.a)(Object(N.a)({},e),{},{postsData:[].concat(Object(v.a)(e.postsData),[{id:e.postsData.length,text:t.text,likesCount:0}])});case ee:return Object(N.a)(Object(N.a)({},e),{},{profile:t.profile});case te:return Object(N.a)(Object(N.a)({},e),{},{userStatus:t.status});default:return e}},ue=n.p+"static/media/loader.fab104e6.svg",le=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("img",{src:ue,alt:""})})},je=n(37),de=n.n(je),be=n(19),fe=n(45),pe=n.n(fe),me=n.p+"static/media/edit.b2fbfd27.svg",Oe=function(e){var t=Object(a.useState)(!1),n=Object(be.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(e.itemValue||""),o=Object(be.a)(i,2),u=o[0],l=o[1];return Object(s.jsxs)("div",{className:pe.a.item,children:[Object(s.jsx)("div",{className:pe.a.name,children:Object(s.jsx)("h1",{children:e.name})}),r?Object(s.jsx)("input",{className:pe.a.input,autoFocus:!0,onBlur:function(){c(!1),e.setField(e.name,u,e.isContact)},onChange:function(e){return l(e.target.value||"")},value:u||""}):Object(s.jsxs)("div",{onClick:function(){return c(!0)},className:pe.a.value,children:[Object(s.jsx)("h1",{children:u||Object(s.jsx)("i",{children:"no info"})}),Object(s.jsx)("img",{src:me,alt:"",onClick:function(){return c(!0)}})]})]})},he=function(){var e=Object(j.c)(),t=B((function(e){return e.userAuth.authProfile})),n=B((function(e){return e.userAuth.id}));if(Object(a.useEffect)((function(){n&&e(ce(Number(n)))}),[e,n]),!t)return Object(s.jsx)(le,{});var r=Object(N.a)(Object(N.a)({},t),{},{contacts:Object(N.a)({},t.contacts)}),c=function(e,n,s){return s?(r=Object(N.a)(Object(N.a)({},t),{},{contacts:Object(N.a)(Object(N.a)({},null===t||void 0===t?void 0:t.contacts),{},Object(E.a)({},e,n))}),console.log(r),r):(r=Object(N.a)(Object(N.a)({},t),{},(a={},Object(E.a)(a,e,n),Object(E.a)(a,"lookingForAJob",!0),a)),console.log(r),r);var a},i=Object.entries(t.contacts).map((function(e){return Object(s.jsx)(Oe,{name:e[0],itemValue:e[1],setField:c,isContact:!0},e[0])})),o=Object.entries(t).map((function(e){return"contacts"!==e[0]&&"photos"!==e[0]&&"userId"!==e[0]?Object(s.jsx)(Oe,{name:e[0],itemValue:e[1],setField:c,isContact:!1},e[0]):null}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{className:de.a.title,children:"Main Information"}),Object(s.jsx)("div",{className:de.a.wrapper,children:o}),Object(s.jsx)("h1",{className:de.a.title,children:"Contacts"}),Object(s.jsx)("div",{className:de.a.wrapper,children:i}),Object(s.jsx)("button",{className:de.a.submitButton,onClick:function(){return e(function(e,t){return function(){var n=Object(W.a)(R.a.mark((function n(s){var a;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q(e);case 3:return n.next=5,V(t);case 5:a=n.sent,s(ae(a)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(r,Number(n)))},children:"Save"})]})},ge="Users-reducer/FOLLOW-TOGGLE",xe="Users-reducer/SET-USERS",_e="Users-reducer/SET-CURRENT-PAGE",ve="Users-reducer/SET_TOTAL_USERS_COUNT",Ne="Users-reducer/IS-FETCHING-TOGGLE",we="Users-reducer/FOLLOW_IN_PROGRESS",Se={users:[],totalUsersCount:0,pageSize:5,currentPage:1,isFetching:!1,followInProgress:!1},Pe=function(e){return{type:ge,userId:e}},Ce=function(){return{type:we}},ke=function(){return{type:Ne}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(N.a)(Object(N.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(N.a)(Object(N.a)({},e),{},{followed:!e.followed}):e}))});case xe:return Object(N.a)(Object(N.a)({},e),{},{users:Object(v.a)(t.users)});case _e:return Object(N.a)(Object(N.a)({},e),{},{currentPage:t.page});case ve:return Object(N.a)(Object(N.a)({},e),{},{totalUsersCount:t.totalCount});case Ne:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!e.isFetching});case we:return Object(N.a)(Object(N.a)({},e),{},{followInProgress:!e.followInProgress});default:return e}},Ae=n(46),Ue=n.n(Ae),De=n.p+"static/media/user.a2446033.png",Fe=n(23),ye=n.n(Fe),Te=function(e){var t=Object(j.c)();return e.followInProgress?Object(s.jsx)("button",{className:ye.a.fallowButton,children:"processing"}):Object(s.jsxs)("button",{className:ye.a.fallowButton,onClick:function(){var n;e.followed?t((n=e.id,function(){var e=Object(W.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ce()),e.prev=1,e.next=4,K(n);case 4:t(Pe(n)),t(Ce()),console.log("unfollowed"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())):t(function(e){return function(){var t=Object(W.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ce()),t.prev=1,t.next=4,z(e);case 4:n(Pe(e)),n(Ce()),console.log("followed"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e.id))},children:[" ",e.followed?"unfollow":"follow"]})},Me=function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:ye.a.container,children:[Object(s.jsxs)("div",{className:ye.a.leftSide,children:[Object(s.jsx)(u.b,{to:"/profile/"+e.user.id,children:Object(s.jsx)("img",{className:ye.a.avatarImage,src:e.user.photos.small||De,alt:""})}),Object(s.jsx)("div",{className:ye.a.follow,children:Object(s.jsx)(Te,{id:e.user.id,followed:e.user.followed,followInProgress:e.followInProgress})})]}),Object(s.jsxs)("div",{className:ye.a.rightSide,children:[Object(s.jsx)("h1",{className:ye.a.name,children:e.user.name}),Object(s.jsx)("h1",{className:ye.a.status,children:e.user.status})]})]})})},Ee=function(e){for(var t=Object(j.c)(),n=Math.ceil(e.usersPage.totalUsersCount/e.usersPage.pageSize),a=[],r=1;r<=n&&!(r>10);r++)a.push(r);return Object(s.jsxs)("div",{className:Ue.a.cintainer,children:[Object(s.jsx)("div",{children:a.map((function(n){return Object(s.jsx)("span",{onClick:function(){return t(function(e){return{type:_e,page:e}}(n))},className:e.usersPage.currentPage===n?Ue.a.currentPage:Ue.a.pages,children:n},n)}))}),e.usersPage.isFetching?Object(s.jsx)(le,{}):null,Object(s.jsx)("div",{className:Ue.a.cintainer,children:e.usersPage.users.map((function(t){return Object(s.jsx)(Me,{user:t,followInProgress:e.usersPage.followInProgress},t.id)}))})]})},Be=function(){var e=Object(j.c)(),t=B((function(e){return e.usersPage}));return Object(a.useEffect)((function(){var n,s;e((n=t.currentPage,s=t.pageSize,function(){var e=Object(W.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ke()),e.prev=1,e.next=4,H(n,s);case 4:a=e.sent,t(ke()),t((c=a.data.items,{type:xe,users:c})),t((r=a.data.totalCount,{type:ve,totalCount:r})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:case"end":return e.stop()}var r,c}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}),[t.currentPage,t.pageSize,e]),Object(s.jsx)("div",{children:Object(s.jsx)(Ee,{usersPage:t})})},Le=function(){return Object(s.jsx)("div",{children:Object(s.jsx)(Be,{})})},Re=n(44),We=n.n(Re),Ge=function(e){var t=Object(a.useState)(""),n=Object(be.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),o=Object(be.a)(i,2),u=o[0],l=o[1];return Object(s.jsxs)(s.Fragment,{children:[!u&&Object(s.jsx)("div",{children:Object(s.jsx)("h3",{onDoubleClick:function(){return l(!0)},children:""===e.userStatus?Object(s.jsx)("i",{children:"have not status"}):e.userStatus})}),u&&Object(s.jsx)("div",{children:Object(s.jsx)("input",{onChange:function(e){return c(e.target.value)},autoFocus:!0,onBlur:function(){l(!1),r!==e.userStatus&&e.updateUserStatus(r)},value:r})})]})},Je=n(121),ze=n.n(Je),Ke=function(e){return e.contact?Object(s.jsx)("div",{className:ze.a.PersonalInfoBlock,children:Object(s.jsxs)("h2",{children:[Object(s.jsxs)("i",{children:[e.contactKey,": "]}),Object(s.jsx)("a",{href:"https://"+e.contact||!1,children:e.contact})]})}):null},He=n(122),Xe=n.n(He),Ve=function(e){return Object(s.jsx)("div",{className:Xe.a.foolName,children:Object(s.jsx)("h1",{children:e.fullName})})},Ye=n(123),Ze=n.n(Ye),qe=function(e){return Object(s.jsx)("div",{className:Ze.a.aboutMe,children:Object(s.jsxs)("h2",{children:[Object(s.jsx)("b",{children:"About me: "}),e.aboutMe]})})},Qe=n(124),$e=n.n(Qe),et=function(e){return Object(s.jsx)("div",{className:$e.a.lookingForAJobDescription,children:Object(s.jsxs)("h2",{children:[Object(s.jsx)("b",{children:"Looking for a job: "}),e.lookingForAJobDescription]})})},tt=n(60),nt=n.n(tt),st=n.p+"static/media/close.e45455dd.svg",at=function(e){var t=e.modalToggle,n=Object(a.useState)(null),r=Object(be.a)(n,2),c=r[0],i=r[1],o=Object(a.useRef)(null);return Object(s.jsxs)("div",{className:nt.a.modal,children:[Object(s.jsx)("img",{className:nt.a.close,src:st,alt:"X",onClick:t}),Object(s.jsxs)("div",{className:nt.a.modalBox,children:[Object(s.jsx)("div",{children:Object(s.jsx)("h3",{children:"Upload new Avatar"})}),Object(s.jsx)("input",{ref:o,type:"file",onChange:function(e){return i(e.target.files[0])}}),Object(s.jsx)("button",{onClick:function(){var e=new FormData;e.append("image",c),Q(e).then((function(e){return console.log(e.data)})),console.log(c)},children:"Upload"})]})]})},rt=n.p+"static/media/profileImage.22d7f1c8.png",ct=function(e){var t=e.photo,n=Object(a.useState)(!1),r=Object(be.a)(n,2),c=r[0],i=r[1],o=function(){i(!c),console.log("modal is ".concat(c))};return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:We.a.avatar,src:t||rt,alt:"",onClick:function(){return o()}}),c&&Object(s.jsx)(at,{modalToggle:o})]})},it=function(e){var t;if(!e.profilePage.profile)return Object(s.jsx)(le,{});var n=e.profilePage.profile,a=Object(N.a)({},n.contacts);return Object(s.jsxs)("div",{className:We.a.PersonalInfoBlock,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(ct,{photo:null===(t=n.photos)||void 0===t?void 0:t.large}),Object(s.jsx)("div",{children:Object(s.jsx)(Ge,{setUserStatus:e.setUserStatus,updateUserStatus:e.updateUserStatus,userStatus:e.profilePage.userStatus})})]}),Object(s.jsxs)("div",{className:We.a.AboutUserBlock,children:[Object(s.jsx)(Ve,{fullName:n.fullName}),Object(s.jsx)(qe,{aboutMe:n.aboutMe}),Object(s.jsx)(et,{lookingForAJob:n.lookingForAJob,lookingForAJobDescription:n.lookingForAJobDescription}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Contacts"}),Object.keys(a).map((function(e){return Object(s.jsx)(Ke,{contactKey:e,contact:a[e]},e)}))]})]})]})},ot=n(125),ut=n.n(ot),lt=n(85),jt=n.n(lt),dt=function(e){var t=Object(j.c)(),n=Object(a.useState)(""),r=Object(be.a)(n,2),c=r[0],i=r[1];return Object(s.jsxs)("div",{className:jt.a.postForm,children:[Object(s.jsx)("h1",{children:"My new post"}),Object(s.jsx)("input",{onChange:function(e){return i(e.target.value)},value:c}),Object(s.jsx)("button",{onClick:function(){return t(e.addNewPost(c))},children:"Add Post"}),Object(s.jsx)("hr",{className:jt.a.hr})]})},bt=n(47),ft=n.n(bt),pt=function(e){var t=B((function(e){var t,n;return null===(t=e.userAuth.authProfile)||void 0===t||null===(n=t.photos)||void 0===n?void 0:n.small}));return Object(s.jsxs)("div",{className:ft.a.wrapper,children:[Object(s.jsx)("img",{className:ft.a.avatar,src:t||"",alt:""}),Object(s.jsxs)("div",{className:ft.a.text,children:[Object(s.jsx)("h1",{children:e.text}),Object(s.jsxs)("div",{className:ft.a.likes,children:["Likes: ",e.likesCount]})]})]})},mt=n(126),Ot=n.n(mt),ht=function(){var e=B((function(e){return e.profilePage.postsData}));return Object(s.jsxs)("div",{className:Ot.a.wrapper,children:[Object(s.jsx)("h2",{children:"News"}),e.map((function(e){return Object(s.jsx)(pt,{text:e.text,likesCount:e.likesCount},e.id)}))]})},gt=function(e){return e.profilePage.profile?Object(s.jsxs)("div",{className:ut.a.content,children:[Object(s.jsx)(it,{profilePage:e.profilePage,setUserStatus:re,updateUserStatus:ie}),Object(s.jsx)(dt,{addNewPost:e.addNewPost}),Object(s.jsx)(ht,{})]}):Object(s.jsx)(le,{})},xt=function(){var e=Object(j.c)(),t=B((function(e){return e.userAuth.id})),n=Object(k.f)();n.userId||(n.userId=String(t));var r=B((function(e){return e.profilePage})),c=B((function(e){return e.userAuth.isAuth}));return Object(a.useEffect)((function(){var t;c&&(e(ce(Number(n.userId))),e((t=Number(n.userId),function(){var e=Object(W.a)(R.a.mark((function e(n){var s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t);case 3:s=e.sent,n(re(s)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())))}),[n.userId,e,c]),c?Object(s.jsx)(gt,{profilePage:r,setUserStatus:re,updateUserStatus:ie,addNewPost:se}):Object(s.jsx)(k.a,{to:"/login"})},_t=n(86),vt=n.n(_t),Nt=n.p+"static/media/logo.04c5a179.svg",wt=function(e){var t=e.isAuth,n=e.login;return Object(s.jsxs)("header",{className:vt.a.header,children:[Object(s.jsx)("div",{className:vt.a.logo,children:Object(s.jsx)("img",{src:Nt,alt:""})}),Object(s.jsx)("h1",{children:t?n:Object(s.jsx)(u.b,{to:"/login",children:"Login In"})})]})},St=function(){var e=B((function(e){return e.userAuth.login})),t=B((function(e){return e.userAuth.isAuth}));return Object(s.jsx)(wt,{isAuth:t,login:e})},Pt=n(127),Ct=n.n(Pt),kt=Object(g.a)({form:"login"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(h.a,{placeholder:"Login",name:"email",component:"input"})}),Object(s.jsx)("div",{children:Object(s.jsx)(h.a,{placeholder:"Password",name:"password",component:"input"})}),Object(s.jsx)("div",{children:Object(s.jsx)(h.a,{type:"checkbox",name:"rememberMe",component:"input"})}),Object(s.jsx)("button",{children:"Submit"})]})})),It=function(e){return Object(s.jsxs)("div",{className:Ct.a.container,children:[Object(s.jsx)("h1",{children:"LOGIN"}),Object(s.jsx)(kt,{})]})},At="Auth-reducer/SET_USER_AUTH_DATA",Ut="Auth-reducer/SET_USER_PROFILE",Dt={id:null,email:null,login:null,isAuth:!1,authProfile:null},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At:return Object(N.a)(Object(N.a)(Object(N.a)({},e),t.payload),{},{isAuth:t.isAuth});case Ut:return Object(N.a)(Object(N.a)({},e),{},{authProfile:t.profile});default:return e}};var yt=function(){var e=Object(j.c)();return Object(a.useEffect)((function(){e(function(){var e=Object(W.a)(R.a.mark((function e(t){var n,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:return n=e.sent,t((a=n.data,r=0===n.resultCode,{type:At,payload:a,isAuth:r})),e.next=7,V(Number(n.data.id));case 7:s=e.sent,t({type:Ut,profile:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}var a,r}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())})),Object(s.jsxs)("div",{className:"appWrapper",children:[Object(s.jsx)(St,{}),Object(s.jsx)(l,{}),Object(s.jsxs)("div",{className:"app-wrapper-content",children:[Object(s.jsx)(k.b,{path:"/dialogs",render:function(){return Object(s.jsx)(A,{})}}),Object(s.jsx)(k.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(xt,{})}}),Object(s.jsx)(k.b,{path:"/news",render:function(){return Object(s.jsx)(F,{})}}),Object(s.jsx)(k.b,{path:"/music",render:function(){return Object(s.jsx)(M,{})}}),Object(s.jsx)(k.b,{path:"/find-users",render:function(){return Object(s.jsx)(Le,{})}}),Object(s.jsx)(k.b,{path:"/settings",render:function(){return Object(s.jsx)(he,{})}}),Object(s.jsx)(k.b,{path:"/login",render:function(){return Object(s.jsx)(It,{})}})]})]})},Tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,261)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))},Mt=n(8),Et=n(128),Bt=Object(Mt.c)({profilePage:oe,dialogsPage:P,usersPage:Ie,userAuth:Ft}),Lt=Object(Mt.d)(Bt,Object(Mt.a)(Et.a));window.store=Lt;var Rt=Lt;c.a.render(Object(s.jsx)(u.a,{children:Object(s.jsx)(j.a,{store:Rt,children:Object(s.jsx)(yt,{store:Rt,dispatch:Rt.dispatch.bind(Rt)})})}),document.getElementById("root")),Tt()},37:function(e,t,n){e.exports={form:"Settings_form__1WMXi",wrapper:"Settings_wrapper__2h7_a",title:"Settings_title__2WdBp",submitButton:"Settings_submitButton__15u-C"}},44:function(e,t,n){e.exports={AboutUserBlock:"ProfileInfo_AboutUserBlock__2KM1z",PersonalInfoBlock:"ProfileInfo_PersonalInfoBlock__2NDeb"}},45:function(e,t,n){e.exports={item:"SettingsItem_item__1e9Op",name:"SettingsItem_name__2XTip",value:"SettingsItem_value__1G5ZR",input:"SettingsItem_input__3D0Gw"}},46:function(e,t,n){e.exports={cintainer:"Users_cintainer__ivpiG",leftSide:"Users_leftSide__3zRtw",currentPage:"Users_currentPage__1jVwB",pages:"Users_pages__2axKF"}},47:function(e,t,n){e.exports={wrapper:"SinglePost_wrapper__2YsCy",avatar:"SinglePost_avatar__3fHK1",text:"SinglePost_text__28Izv",likes:"SinglePost_likes__3ps4p"}},60:function(e,t,n){e.exports={modal:"Avatar_modal__1IrCx",modalBox:"Avatar_modalBox__1XgkU",close:"Avatar_close__1_Rvc"}},82:function(e,t,n){e.exports={wrapper:"NewMessage_wrapper__3PFWj",container:"NewMessage_container__1e-Se",textarea:"NewMessage_textarea__O2Fgy",button:"NewMessage_button__3N4Lf"}},85:function(e,t,n){e.exports={postForm:"NewPostForm_postForm__2lyLd",textArea:"NewPostForm_textArea__170z5",hr:"NewPostForm_hr__1vWFA"}},86:function(e,t,n){e.exports={header:"Header_header__2GdBg",logo:"Header_logo__bBtlC",login:"Header_login__5dZN2"}}},[[258,1,2]]]);
//# sourceMappingURL=main.2a78c2a6.chunk.js.map